<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Trust & Maturity Matrix</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;margin:24px;color:#0f172a;}
  h1{margin:0 0 16px 0;font-size:22px}
  table{border-collapse:collapse;width:100%;table-layout:fixed;}
  th,td{border:1px solid #e5e7eb;padding:10px;vertical-align:top}
  th{background:#f8fafc;font-weight:700}
  td.dimension{font-weight:600;width:220px}
  .cell{display:flex;flex-direction:column;gap:4px}
  .status{display:flex;align-items:center;gap:8px;font-weight:600}
  .dot{width:10px;height:10px;border-radius:50%}
  .live{background:#10b981}.partial{background:#f59e0b}.planned{background:#9ca3af}
  .note{font-size:13px;color:#334155}
  .meta{font-size:12px;color:#64748b}
  .foot{margin-top:10px;font-size:12px;color:#475569}
</style>
</head>
<body>
  <h1>Trust & Maturity Matrix</h1>
  <table>
    <thead>
      <tr>
        <th>Dimension</th>
        {% for c in chains %}<th>{{ c|capitalize }}</th>{% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for row in rows %}
      <tr>
        <td class="dimension">{{ row.dimension }}</td>
        {% for c in chains %}
          {% set cell = row[c] %}
          <td>
            <div class="cell">
              <div class="status">
                <span class="dot {{ cell.css }}"></span>
                <span>{{ cell.status }}</span>
              </div>
              {% if cell.note %}<div class="note">{{ cell.note }}</div>{% endif %}
              {% if cell.date %}<div class="meta">({{ cell.date }})</div>{% endif %}
            </div>
          </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="foot">Data verified as of {{ verified_on }}.</div>
</body>
</html>
